/*generate 16-bit code*/
__asm__(".code16\n");
/*jump boot code entry*/
__asm__("jmpl $0x0000, $main\n");

/* user defined function to print series of characters terminated by null character */
void printString(const char* pStr) {
     while(*pStr) {
          __asm__ __volatile__ (
               "int $0x10" : : "a"(0x0e00 | *pStr), "b"(0x0007)
          );
          ++pStr;
     }
}

void printReg()
{
	__asm__ __volatile__ ("movw %ss,%ax\n");
	__asm__ __volatile__ ("movb %ah,%al\n");
	__asm__ __volatile__ ("movb $0x0e,%ah\n");
        __asm__ __volatile__ ("int $0x10" :: "b"(0x0007));
}
void main() {
     /* calling the printString function passing string as an argument */
     printReg();
} 

